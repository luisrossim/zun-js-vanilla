import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              */import{e as s}from"./toast-DMtRu0CZ.js";function p(e){if(e=e.replace(/\D/g,""),e.length!==11||/^(\d)\1{10}$/.test(e))return!1;let t=0;for(let o=0;o<9;o++)t+=parseInt(e[o])*(10-o);let r=t%11,n=r<2?0:11-r;t=0;for(let o=0;o<10;o++)t+=parseInt(e[o])*(11-o);r=t%11;let a=r<2?0:11-r;return e[9]==n&&e[10]==a}function v(){const e=Array.from({length:9},()=>Math.floor(Math.random()*10)),t=c(e,10),r=c([...e,t],11);return[...e,t,r].join("")}function c(e,t){const n=e.reduce((a,o,m)=>a+o*(t-m),0)%11;return n<2?0:11-n}async function g(e){try{const t=await fetch(`https://viacep.com.br/ws/${e}/json/`);if(!t.ok)throw new Error("Erro ao consultar o CEP!");const r=await t.json();if(r.erro)throw new Error("CEP não encontrado!");return{success:!0,data:r}}catch(t){return{success:!1,message:t.message}}}async function E(e){let t=[];const r=h(e.nome);r.valid||t.push({input:"nome",errorMessage:r.error});const n=y(e.cpf);n.valid||t.push({input:"cpf",errorMessage:n.error});const a=await u(e.cep);return a.valid||t.push({input:"cep",errorMessage:a.error}),console.log(t),t}function h(e){return e===""?{valid:!1,error:"Nome é obrigatório!"}:e.trim()===""?{valid:!1,error:"Nome inválido!"}:e.trim().length<3?{valid:!1,error:"Nome é muito curto!"}:e.trim().length>20?{valid:!1,error:"Nome é muito longo!"}:{valid:!0}}function y(e){return p(e)?{valid:!0}:{valid:!1,error:"CPF inválido!"}}async function u(e){if(e==="")return{valid:!1,error:"CEP é obrigatório!"};if(e.length!==9)return{valid:!1,error:"CEP inválido!"};const t=await g(e);return t.success?{valid:!0,consulta:t.data}:{valid:!1,error:t.message}}function C(e){let t=new Date(e);const r=String(t.getDate()+1).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear();return`${r}/${n}/${a}`}function S(e){return e.trim().replace(/\s+/g," ")}const P=document.querySelector("form"),$=document.querySelectorAll("input, select"),b=document.querySelector("#cpf"),q=document.querySelector("#cep"),w=document.querySelector("#estado"),M=document.querySelector("#cidade"),F=document.querySelector("#bairro"),L=document.querySelector("#gerarCPF"),i=document.querySelector("#consultarCEP");P.addEventListener("submit",e=>{V(e)});L.addEventListener("click",()=>{x()});i.addEventListener("click",()=>{i.disabled=!0,k().finally(()=>{setTimeout(()=>{i.disabled=!1},1e3)})});$.forEach(e=>{e.addEventListener("input",()=>{const t=e.id;D(t)})});function l(e,t){e.addEventListener("input",r=>{let n=r.target.value.replace(/\D/g,"");n&&(n=t(n)),r.target.value=n})}l(document.querySelector("#cpf"),f);l(document.querySelector("#telefone"),j);l(document.querySelector("#cep"),A);async function V(e){e.preventDefault();const t=new FormData(e.target),r=Object.fromEntries(t.entries());r.nascimento=C(r.nascimento),r.nome=S(r.nome);let n=await E(r);if(n.length>0){let a=[];n.forEach(o=>{a.push(o.input),d(o.input,o.errorMessage)}),s("error",`O(s) campo(s) (${a.join(", ")}) estão inválidos!`);return}console.log(r),alert("Sucesso!")}function x(){const e=v(),t=f(e);b.value=t,s("success","CPF gerado com sucesso!")}async function k(){const e=q.value,t=await u(e);if(!t.valid){d("cep",t.error);return}w.value=t.consulta.estado,M.value=t.consulta.localidade,F.value=t.consulta.bairro,s("success","CEP validado com sucesso!")}function d(e,t){const r=document.querySelector(`#${e}`);let n=r.nextElementSibling;n&&n.classList.contains("helper-text")?n.textContent=t:(n=document.createElement("span"),n.classList.add("helper-text"),n.textContent=t,r.insertAdjacentElement("afterend",n)),r.classList.add("invalid")}function D(e){const t=document.querySelector(`#${e}`),r=t.nextElementSibling;r&&r.classList.contains("helper-text")&&r.remove(),t.classList.remove("invalid")}function f(e){return e.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")}function j(e){return e.replace(/^(\d{2})(\d{5})(\d{4})$/,"($1) $2-$3")}function A(e){return e.replace(/^(\d{5})(\d{3})$/,"$1-$2")}document.querySelectorAll(".tooltip-container").forEach(e=>{const t=e.getAttribute("data-tooltip"),r=document.createElement("div");r.className="tooltip",r.textContent=t,e.appendChild(r),e.addEventListener("mouseenter",()=>{r.style.display="block"}),e.addEventListener("mouseleave",()=>{r.style.display="none"})});
